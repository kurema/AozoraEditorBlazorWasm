Qiitaの記事を書くときメモ

内容
* VS Code風青空文庫形式エディタ
* 青空文庫形式を現代的な補助機能付きで書ける
* エラーがすぐにわかる
* Epub出力対応(予定)
* 索引機能搭載

Blazorについて
* 思ったよりショボい
* ソフトウェア更新が二段階挟まるデメリット
* でも意外と書きやすい
* バインディングないのかよ。StateHasChanged()って…
* パフォーマンスが気になるが意外とサクサク
* C#で書ける幸せ
* メニューバーがない
* razorファイルはなんかVSのサポートが甘い感じ
* ファイル名依存って…
* 起動数秒。SPAなら無問題
* 流用性が低くアドホックな設計にしがち

メニューバーについて
* 当初nugetにBlazor版があると思ったがない
* 有償のならある
* せめてどっかにオプソのHTML+JavaScript版があると思ったが、微妙
* さすがに探し方が悪いだけかしら
* VS Codeはどうしてるのと思って見たら、依存関係が多すぎて辞めた
* とりあえず作ってみたが、マウス操作でしか使えないとか不完全
* 見た目なら期待通り完璧

タブについて
* 適当にrecordかclassを作る→それにRenderFragmentを持たせる→ListとSelectedを作る→@foreachするだけ
* 検索した時はParentにCascadeさせろと書いてあったが、コードで定義すりゃええ
* なおRenderFragmentはrazorファイル内でやるのが鉄則

複数プロジェクトで共有
* 単純に1コンポーネントだけで作れば話は簡単
* 複数ページ持たないから何も考えずに済んだ
* 複数ページなら複数コンポーネントを各プロジェクトで再現すれば良いのでは？
* DIとか要らない。Cascadeさせりゃええ

依存関係
* aozora2html→Aozora2HtmlSharp→this
* epubcheck→EpubLibrary→this
* 青空文庫外字なんちゃらPDF→AozoraGaijiChukiXml→this
* とてつもない大規模プロジェクト

CSSについて
* flexとgridとF12さえ覚えていれば残りは簡単
* 親子関係を意識させられるのは微妙。まぁ"container > *"で指定すれば良いだけだが、つい親がflexの前提で書いてしまったり。
* *.razor.cssにすると特定コンポーネントに限定してくれる
* テーマ切り替えは実は簡単。razor内に`<style>`を配置して切り替えれば良いだけ

ダイアログについて
* dialogはBlazorではろくに使えない
* タブキーで触れたりするけど別に良くね？

JSON Schemaについて
* めっちゃつよい
* でもJSONは名前空間がないのが気持ち悪い
* JSONからクラスを生成してくれるクソつよツールがある
* なぜスキーマを書くのか。コード入力の補助が効くからそれだけ。
* 「JSONはJavaScriptとかいうクソ言語で検証も入力もない環境でIntellisenseの幸せを知らない雰囲気プログラミングしてる連中が使うクソフォーマット」

XMLについて
* オープンソースライセンスのページはXML+XSLTで作った。
* もちろんXML Schemaで定義した。いつものパターン。
* XSLTとBlazorはちょっと似てる。XSLTにページやコンポーネント的概念があれば事足りたかも。…ないか。
* XSLTは久しぶりだから名前空間で地雷を踏んだ。
* 別にBlazorでも良かったけど、流れが綺麗なのはXSLT。

なぜVS拡張機能として作らなかったか？
* …なんでだろうね。気づいたらそうなってた
* VS拡張機能をC#だけで書く記事が見当たらなかった
* Blazorの練習でもある
* プレビューと入力補助だけならWasm preview機能があるけど、扱いづらい感じだった
* 一方でファイル操作やgit関係はVSでやった方が良さげ

コミット駆動開発
* 一応毎日コミットすることを目標とする
* 翌日にコミットネタを残すために粒度がおかしくなるのがデメリット
* 毎日コミットするには2日に1回作業すれば実は十分
* なお別にこのプロジェクトじゃなくてもコミットすればオーケー。プライベートレポジトリもセーフ。
