<div class="aozora_editor_top @(OutputVisible?"aozoa_editor_top_show_output ":"")">
	<div @onclick="()=>{MainTabControl?.HideMenuBar();}" class="aozora_editor_main">
		<CascadingValue Value="this">
			<TabControl @ref="MainTabControl" />
		</CascadingValue>
		<AozoraEditor.Shared.Shared.Dialogs.Dialog @ref="Dialog" />
	</div>
	<div class="aozora_editor_bottom">
		@OutputMessage
	</div>
</div>

<style>
	.aozora_editor_top {
		flex: 1 0 0;
		display: grid;
		min-width: 0;
		min-height: 0;
	}

		.aozora_editor_top:not(.aozoa_editor_top_show_output) {
			grid-template-rows: 1fr 0;
			grid-template-columns: 0 1fr;
		}

		.aozora_editor_top.aozoa_editor_top_show_output {
			grid-template-rows: 7fr 3fr;
			grid-template-columns: 0 1fr;
		}

	.aozora_editor_main {
		grid-row: 1/2;
		grid-column: 2/3;
		display: flex;
		min-width: 0;
		min-height: 0;
	}

	.aozora_editor_bottom {
		grid-row: 2/3;
		grid-column: 2/3;
		display: flex;
		min-width: 0;
		min-height: 0;
		white-space: pre;
		background: #f8f8f8;
	}
</style>

@code {
	public Dialogs.Dialog? Dialog { get; set; }
	TabControl? MainTabControl { get; set; }

	string _OutputMessage = string.Empty;
	public string OutputMessage { get; set; } = "出力はここに表示されます。";

	bool _OutputVisible;
	public bool OutputVisible { get; set; } = false;

	public void SetMessage(string message)
	{
		OutputMessage = message;
		if (!string.IsNullOrWhiteSpace(message)) OutputVisible = true;
		StateHasChanged();
	}
}
