@inject IJSRuntime JSRuntime;

<StandaloneCodeEditor Id="main-editor" ConstructionOptions="EditorConstructionOptions" />

<style>
	.monaco-editor-container {
		height: 100%;
		width: 100%;
		border: none;
	}
</style>

@code {
	protected override async Task OnInitializedAsync()
	{
		await MonacoInterop.Setup.RegisterAozoraOnDemand(JSRuntime);
		await base.OnInitializedAsync();
	}

	private StandaloneEditorConstructionOptions EditorConstructionOptions(StandaloneCodeEditor editor)
	{

		return new StandaloneEditorConstructionOptions
			{
				AutomaticLayout = true,
				Language = "aozora",
				Value = "テスト",
				Theme = "aozora-theme-dark",
				Folding = true,
				Suggest = new SuggestOptions()
				{
					SnippetsPreventQuickSuggestions = false,
				},
				UnicodeHighlight = new UnicodeHighlightOptions()
				{
					AmbiguousCharacters = false
				}
			};
	}
}
