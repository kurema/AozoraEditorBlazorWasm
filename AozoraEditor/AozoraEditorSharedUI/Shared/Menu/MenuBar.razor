@implements IMenuParent

<div class="menubar">
	@foreach (var item in ChildMenus)
	{
		<div class="menubar_menu_button" @onclick="async ()=>{await item.InvokeAsync();}">@item.Title</div>
	}
</div>

<style>
	.menubar {
		display: flex;
		flex-shrink: 1;
		align-items: center;
		box-sizing: border-box;
		height: 100%;
		overflow: hidden;
		/*border:solid 1px rgba(0,0,0,0.2);*/

		margin: 2px 4px;
		font-size: 13px;
	}

		.menubar > .menubar_menu_button {
			padding: 0 8px;
			border-radius: 5px;
			cursor: default;
			font-family: Segoe WPC,Segoe UI,sans-serif;
			user-select: none;
		}

			.menubar > .menubar_menu_button:hover {
				background-color: #7F7F7F22;
			}
</style>

<CascadingValue Value="this">
	@ChildContent
</CascadingValue>

@code {
	[Parameter]
	public RenderFragment? ChildContent { get; set; }

	System.Collections.ObjectModel.ObservableCollection<IMenuItem> ChildMenus { get; } = new();

	public void AddPage(IMenuItem menuItem)
	{
		ChildMenus.Add(menuItem);
		StateHasChanged();
	}
}
