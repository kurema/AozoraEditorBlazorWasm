@*<button value="ハロー" @onclick="@ToggleDisplayMode">こんちゃ</button>*@

<div class="ContainerMain">
	<div class="PanelTop">
		<button class="ButtonMini" @onclick="@ToggleDisplayMode">
			<span class="material-symbols-outlined">preview</span>
		</button>
		<Microsoft.AspNetCore.Components.Forms.InputFile />
	</div>
	<div class="@ClassMain">@Main</div>
	<div class="@ClassSub">@Sub</div>
</div>

<style>
	.ContainerMain {
		display: grid;
		grid-template-rows: auto 1fr;
		grid-template-columns: 1fr 1fr;
		flex: 1 0 0;
	}

	.PanelTop {
		grid-row: 1/2;
		grid-column: 1/3;
		min-width: 0;
	}

	.PanelHalfLeft {
		grid-row: 2/3;
		grid-column: 1/2;
		min-width: 0;
	}

	.PanelHalfRight {
		grid-row: 2/3;
		grid-column: 2/3;
		min-width: 0;
	}

	.PanelFull {
		grid-row: 2/3;
		grid-column: 1/3;
		min-width: 0;
	}

	.PanelNone {
		display: none;
		min-width: 0;
	}

	.ButtonMini {
		background-color: transparent;
		-webkit-appearance: none;
		-moz-appearance: none;
		appearance: none;
		border: 0;
		border-radius: 0;
	}

		.ButtonMini:hover {
			background-color: #7F7F7F22;
		}
</style>
@code {
	[Parameter]
	public RenderFragment? Main { get; set; }
	[Parameter]
	public RenderFragment? Sub { get; set; }

	string ClassMain { get; set; } = "PanelFull";
	string ClassSub { get; set; } = "PanelNone";

	DisplayModes _DisplayMode = DisplayModes.MainFull;
	public DisplayModes DisplayMode
	{
		get => _DisplayMode;
		set
		{
			if (_DisplayMode == value) return;
			switch (value)
			{
				case DisplayModes.MainFull:
					ClassMain = "PanelFull";
					ClassSub = "PanelNone";
					break;
				case DisplayModes.Separated:
					ClassMain = "PanelHalfLeft";
					ClassSub = "PanelHalfRight";
					break;
			}
			_DisplayMode = value;
		}
	}

	public void ToggleDisplayMode() => DisplayMode = DisplayMode switch
	{
		DisplayModes.MainFull => DisplayModes.Separated,
		DisplayModes.Separated => DisplayModes.MainFull,
		_ => DisplayModes.MainFull,
	};

	public enum DisplayModes
	{
		MainFull, Separated,
	}
}
